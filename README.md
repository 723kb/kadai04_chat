# ①課題番号-プロダクト名

kadai04_chat

## ②課題内容（どんな作品か）

- 日本語で入力した内容をMyMemory APIを利用し、中国語に翻訳できるチャットbotアプリ。
- 前回課題のkadai03_memoをアップデートした内容。

## ③DEMO

デプロイしている場合はURLを記入（任意）

## ④作ったアプリケーション用のIDまたはPasswordがある場合

- ID: 今回はなし
- PW: 今回はなし

## ⑤工夫した点・こだわった点

- UI/UXを意識して制作した。
- 本家のLINEに見た目をできる限り近づけた。公式翻訳アカウントを参考に作った。
- LINE風チャットのため、投稿するたびに新規投稿部分までスクロールするように工夫した。動きが多すぎると画面酔いしたため、投稿時のみスクロールするようにこだわった。

## ⑥難しかった点・次回トライしたいこと(又は機能)

- コードの記載順を変えたり、jsを切り分けて管理したが結局デプロイすると全てのjsが動かなかった(データベースとのやり取りに関係のない部分も動かず)。
- メモ読み込みの関数や日本語メッセージを削除すると中国語メッセージも連動して削除する部分がなかなかうまくいかなかった。ChatGPTにコードを投げながら、フラグを立ててtrue,falseで判定するとうまくいった。このフラグについての理解が今ひとつなのでしっかり理解した上で次の課題に活かしたい。
- 翻訳内容を発声してくれる機能を実装したい。

## ⑦質問・疑問・感想、シェアしたいこと等なんでも

- [質問]デプロイしても動くようにするにはどうしたらいいのか。デプロイしても動くようにjsを切り分けたり、コードの記述順を変えたりしたが結局うまくできなかった。
thisが何を指しているのかがわかりにくい。
結局アロー関数、通常関数どちらで書くようにすればよいのか。

- [感想]アロー関数で記載しているとthisが参照できず動かなくなったが、そのことに気づくまで時間がかかってしまった。
機能を追加修正するたびに、エラーが出ることが何度もあった。ただどこでエラーが起きているかは目星をつけられるようになり、対処できた。コードの読み込み順に気を揉むことが多かった。
JavaScriptの約束事を全然理解できていなかったと痛感した。

- [参考記事]
  - 1.アロー関数でthisを参照できない理由
   [https://fuuno.net/nani/nani20/nani20.html]
  - 2.アロー関数と従来の関数の違い
  [https://qiita.com/suin/items/a44825d253d023e31e4d]
  - 3.thisのスコープの違い
  [https://qiita.com/wada1355/items/a1a208428d171fd006ea]
  - 4.sortメソッド 比較関数
  [https://www.sejuku.net/blog/62904]
  - 5.処理の状態をフラグで管理する
  [https://qiita.com/zumi_ys/items/cdb5fdf348bb7adc4452]

- [DEMO]
![DEMO](https://github.com/723kb/kadai05/assets/168268533/121c85c5-4afb-4c72-9bf0-f5f4f0ba1459)

